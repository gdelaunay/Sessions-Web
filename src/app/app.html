<header>
  @if (["/login", "/guest", "/register"].includes(getCurrentPage())){
    <div id="header-spacer" style="width: 40%"></div>
  }

  <a [routerLink]="['/']">
    <div id="title">
      <img class="logo" src="/logo_placeholder.png" alt="Logo de Sessions">
      <h1>Sessions</h1>
    </div>
  </a>
  <div id="user-div">
    <div id="user-info">
      @if (!this.identityService.currentUser()){
        @if (getCurrentPage() !== "/login"){ <a [routerLink]="['/login']"> Se connecter </a>}
        @if (getCurrentPage() !== "/login" && getCurrentPage() !== "/guest") {
          <div style="display: flex; flex-direction: row ">
            <span>ou &nbsp; </span>
            <a [routerLink]="['/guest']">Mode Web standalone</a>
          </div>
        }
        @else if (getCurrentPage() !== "/guest"){ <a [routerLink]="['/guest']"> Mode Web standalone </a> }
      } @else {
        {{ this.identityService.currentUser()?.userName }}
        <a (click)="this.logout(); this.router.navigate(['/login'])" style="font-size: 0.8rem; margin-bottom: -0.2rem"> Se déconnecter </a>
      }
    </div>
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 36 36" fill="none" [attr.stroke]="identityService.currentUser() ? 'currentColor' : 'var(--disabled-text-color) !important'" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" transform="translate(6, 6)"></path>
      <circle cx="18" cy="13" r="4"></circle>
      <circle cx="18" cy="19" r="15"></circle>
    </svg>
  </div>
</header>

<main>
  <div style="position: absolute; bottom: 0; right: 0; background: #ff0; border-top: solid 1px red; border-left: solid 1px red; color: red; border-top-left-radius: 0.6rem; font-weight: 600; font-size: 1.2rem; font-style: italic; padding: 0.1rem 0.6rem 0.4rem 0.6rem ; z-index: 9999;">
    Développement
  </div>

  <aside [hidden]="!identityService.currentUser()">
    <nav>
      <ul>
        <div>
          <li id="homeBtn"><a [routerLink]="['/']">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
            Accueil
          </a></li>
          <li id="spotsBtn"><a [routerLink]="['/spots']">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line></svg>
            Spots
          </a></li>
          <li id="sessionsBtn"><a [routerLink]="['/sessions']">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            Sessions
          </a></li>
          <li id="alertsBtn" class="disabled"><a class="disabled">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
            Alertes
          </a></li>
        </div>
      </ul>
    </nav>
  </aside>

  <div id="main-div">
    <router-outlet></router-outlet>
    <app-footer/>
  </div>

</main>

